## 使用Koa+Mongodb构建的后端服务

### 1. 项目目录

- controllers 控制器文件，用于处理请求，访问数据库
- models 数据库模型文件，用于定义mongo各个集合的schema
- routes 路由文件
- index.js 整个项目的入口文件
- public 用于存放前端上传的图片文件
  
### 2. 使用技术点
- 使用`dotenv`来加载环境变量配置文件，比如数据库的用户名，密码一般不会直接写到代码中，而是通过环境变量的形式引入。避免涉密信息上传到git仓库中
- 使用`koa-jwt`和`jsonwebtoken`来进行jwt权限认证。使用jwt的好处在于不需要讲会话信息存储在后端，比如redis中。具体的使用方式是，通过jsonwebtoken对当前用户信息进行加密处理，通过`koa-jwt`中间件进行token合法性以及有效性的验证
- 使用`koa-body`来解析前端传过来的json数据和文件数据
- 使用`koa-parameter`进行前端参数校验
- 使用`koa-static`来定义前端静态资源文件夹
- 使用`mongoose`来操作MongoDB，除了基础的增删改查，还包含如何解决MongoDB中一对多和多对多的关系

### 3. 已经实现接口
- [x] 登录接口
- [x] 注册接口
- [x] 获取所有用户接口，支持分页查询
- [x] 通过用户id查询用户信息接口
- [x] 更新用户信息接口
- [x] 删除用户接口
- [x] 查询某个用户的粉丝接口
- [x] 查询某个用户的关注列表接口
- [x] 关注某人接口
- [x] 取关某人接口
- [x] 用户关注某个话题接口
- [x] 用户取关某个话题接口
- [x] 查询用户关注的话题列表接口
- [x] 获取所有主题接口
- [x] 获取特定主题接口
- [x] 创建主题接口
- [x] 更新主题接口
- [x] 查询某个主题关注者列表接口
- [x] 上传文件接口