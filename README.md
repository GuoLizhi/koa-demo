## 使用Koa+Mongodb构建的后端服务

### 1. 项目目录

- controllers 控制器文件，用于处理请求，访问数据库
- models 数据库模型文件，用于定义mongo各个集合的schema
- routes 路由文件
- index.js 整个项目的入口文件
- public 用于存放前端上传的图片文件
  
### 2. 使用技术点
- 使用`dotenv`来加载环境变量配置文件，比如数据库的用户名，密码一般不会直接写到代码中，而是通过环境变量的形式引入。避免涉密信息上传到git仓库中
- 使用`koa-jwt`和`jsonwebtoken`来进行jwt权限认证。使用jwt的好处在于不需要讲会话信息存储在后端，比如redis中。具体的使用方式是，通过jsonwebtoken对当前用户信息进行加密处理，通过`koa-jwt`中间件进行token合法性以及有效性的验证
- 使用`koa-body`来解析前端传过来的json数据和文件数据
- 使用`koa-parameter`进行前端参数校验
- 使用`koa-static`来定义前端静态资源文件夹
- 使用`mongoose`来操作MongoDB，除了基础的增删改查，还包含如何解决MongoDB中一对多和多对多的关系

### 3. 已经实现接口
- [x] 用户模块-注册
- [x] 用户模块-登录
- [x] 用户模块-获取所有用户信息
- [x] 用户模块-获取单个用户信息
- [x] 用户模块-更新某个用户信息
- [x] 用户模块-删除某个用户
- [x] 用户模块-获取某个用户的关注
- [x] 用户模块-关注其他用户
- [x] 用户模块-取消关注
- [x] 用户模块-获取某个用户的粉丝
- [x] 用户模块-用户关注某个话题
- [x] 用户模块-获取某个用户关注的所有话题
- [x] 用户模块-用户取关一个话题
- [x] 工具模块-上传文件
- [x] 话题模块-获取所有的话题
- [x] 话题模块-获取特定话题
- [x] 话题模块-创建一个话题
- [x] 话题模块-更新一个话题
- [x] 话题模块-获取某个话题的关注者
- [x] 问题模块-获取所有的问题
- [x] 问题模块-新建一个问题
- [x] 问题模块-根据问题id获取特定的问题
- [x] 问题模块-删除一个问题
- [x] 答案模块-获取某个问题下的全部答案
- [x] 答案模块-在某个问题下新建一个答案
- [x] 答案模块-根据答案id来获取答案的具体信息
- [x] 答案模块-更新一条答案
- [x] 答案模块-删除一条答案
- [x] 评论模块-某个问题某个答案下的所有评论
- [x] 评论模块-新建一条评论
- [x] 评论模块-根据评论id获取评论的具体信息
- [x] 评论模块-更新评论
- [x] 评论模块-删除一条评论